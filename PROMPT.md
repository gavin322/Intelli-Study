# Project Prompt
智习 (Zhixie) - Web英语学习平台 (V1.0)

## Business Goal
本里程碑的总体目标是完成平台核心学习、练习和个人回顾功能的原型开发，确保用户能够注册、登录，并进行基础的单词和短语学习、默写练习，同时能查看个人的学习历史和错题统计。为后续的智能复习和高级功能奠定技术基础。

## Feature Requirements
1. 用户注册与登录
用户应能通过邮箱+密码完成注册和登录。
系统需提供忘记密码功能（通过邮箱验证）。
Edge Case: 邮箱格式验证、密码复杂度校验（至少8位，包含大小写和数字）。
2. 单词学习功能
用户选择词库后，系统展示单词卡片，内容包括：单词、真人/AI发音、词性、中文释义、例句。
用户可点击**“掌握”或“生词本”**按钮标记单词。
用户可手动调节发音语速。
3. 默写/听写练习功能
系统根据用户的词库或生词本，随机抽取单词进行练习。
模式一：中文默写： 给出中文释义，要求用户输入对应的英文单词。
模式二：听音默写： 播放单词发音，要求用户输入对应的英文单词。
系统实时判定拼写是否正确。拼写错误需记录次数。
用户在多次错误后可选择**“查看提示”**，提示应逐个展示单词字母。
4. 短语学习与示例
提供短语的中文释义和多个实际应用例句。
用户可将短语标记为**“掌握”或“生词本”**。
5. 个人学习历史与错误统计
学习历史： 用户可通过时间线或列表查看所有学过的单词和短语。
错词回顾： 提供一个独立的列表展示拼写错误次数大于0的单词。
列表应能展示每个单词累计的错误次数。用户可在此列表中进行专项复习。

## Technical Constraints
- 前端： Vue 3 + Vite
- 后端： NestJS + TypeScript (用于构建高性能、模块化的后端服务)
- 数据库： PostgreSQL 或 MySQL + Prisma（用于实现类型安全的数据库操作和数据迁移）
- 接口风格： 严格遵循 REST API 规范。所有资源操作均使用标准 HTTP 方法（GET/POST/PUT/DELETE）。
- 鉴权： 使用 JWT (JSON Web Token) 实现用户认证和接口访问控制。
- 性能： 单词卡片加载时间（LCP）不应超过 1.5秒。

## Non-Functional Expectations
- UX/UI： 界面应简洁、专注于学习内容，避免过多干扰。核心功能（学习、默写）应在三次点击内可达。
- 响应式设计： 前端必须实现响应式布局，确保在主流移动设备（iOS/Android）上具有良好且可用的体验（满足 $3.8$ 移动端适配需求）。
- 安全性： 所有用户密码必须使用 bcrypt 或 Argon2 等算法进行哈希存储。API 接口应防止常见的 SQL 注入和 XSS 攻击。
- 日志记录： 关键业务操作（用户注册、登录、练习结果提交）需记录操作日志（使用 NestJS 内置 Logger 或 Winston）。
- 数据准确性： 单词拼写错误次数的统计必须准确且可追溯。

## Testing & Validation
- 单元测试： 核心后端服务（如：用户认证、错误统计逻辑）的代码覆盖率目标为 70%。
- 端到端测试 (E2E)： 必须覆盖**“用户注册 -> 学习 1 个单词 -> 进行默写练习 -> 查看错误统计”**的完整流程。
- 验收标准 (Acceptance Criteria):
- - 用户能成功登录，并在个人中心看到自己的邮箱。
- - 进行 3 次默写练习，故意拼错 2 个单词，错误统计界面显示的错词总数为 2，且错误次数正确记录。
- - 在手机浏览器上，单词学习卡片可正常滑动和点击操作

## Delivery Notes
- 代码规范： 前后端代码必须遵循 ESlint/Prettier 规范，并配置 Git Hooks 进行提交前检查。
- 文档： 必须使用 Swagger/OpenAPI 在 NestJS 中自动生成完整的 REST API 文档。
- 版本控制： 使用 Git Flow 工作流进行开发和版本管理。
- 部署依赖： 需要配置 Dockerfile 和 Docker Compose 文件，以便于本地和生产环境的快速部署。.

## Open Questions
|编号|问题描述|决策者|状态|解决方案/结果
|OQ-1|单词和短语的内容数据源是什么？（购买词库 API 还是手动导入？）|待定|TBD|帮我留着两个方案的入口，用户可以根据自己的需求选择。
|OQ-2|初版是否需要支持AI 语音识别 ($3.4$) 功能？（这会大幅增加技术复杂度）|待定|TBD|先不要
|OQ-3|音标学习 ($2.3$) 的内容是以视频为主，还是以图文和发音示例为主？|待定|TBD|先以图文为主，后续再考虑添加视频。
